#ifndef RELAIS_HPP
#define RELAIS_HPP

////////////////////////////////////////////////////////////
// Headers
////////////////////////////////////////////////////////////
#if ARDUINO > 22
    #include "Arduino.h"
#else
    #include "WProgram.h"
#endif

class Relais {
public:
	////////////////////////////////////////////////////////////
    /// \brief Constructeur, initialise la pin en sortie
    ///
    /// \param pin Numéro de pin correspondant au relais
    /// \param autoUpdate Indique si le relais se met à jour dès son changement d'état
    ///
    ////////////////////////////////////////////////////////////
	Relais(byte const pin, boolean const autoUpdate = false);

	////////////////////////////////////////////////////////////
    /// \brief Permet de changer l'état du relais (ouvert ou fermé)
    ///
    /// \param state Indique le nouvel état du relais (1 ou 0 - HIGH ou LOW)
    ///
    ////////////////////////////////////////////////////////////
	void setState(byte const state);

    ////////////////////////////////////////////////////////////
    /// \brief Permet d'obtenir l'état du relais
    ///
    /// \return L'état actuel du relais
    ///
    ////////////////////////////////////////////////////////////
    byte getState() const;

	////////////////////////////////////////////////////////////
    /// \brief Change l'état du relais (passe d'ouvert à fermé ou de fermé à ouvert)
    ///
    ////////////////////////////////////////////////////////////
	void changeState();

	////////////////////////////////////////////////////////////
    /// \brief Met à jour tous les paramètre du moteur (PWM et direction)
    ///
    ////////////////////////////////////////////////////////////
	void update();

private:
	////////////////////////////////////////////////////////////
    /// Variables membre
    ////////////////////////////////////////////////////////////
	const byte m_pin; ///<  Stocke la pin correspondant au relais
	byte m_state; ///<  Stocke l'état actuel du relais
    boolean m_autoUpdate; ///<  Stocke si l'auto-update est actif ou non
};

#endif

////////////////////////////////////////////////////////////
/// \class Relais
/// 
/// La classe relais permet de gérer plus facilement n'importe quel relais.
///
////////////////////////////////////////////////////////////